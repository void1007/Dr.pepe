<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <body>
    <input type="checkbox" id="chkcontroller" />
    <label for="chkcontroller">전체선택</label>
    <br />
    <input type="checkbox" id="A" />
    <label for="A">A</label>
    <input type="checkbox" id="B" />
    <label for="B">B</label>
    <input type="checkbox" id="C" />
    <label for="C">C</label>
    <input type="checkbox" id="D" />
    <label for="D">D</label>
    <input type="checkbox" id="E" />
    <label for="E">E</label>
  </body>
  <script>
    // $("#chkcontroller").on("click", function () {
    //   //1. 전체선택에 매핑 되어있는 input 박스 (체크박스)를 가져온다.
    //   const allchk = $("#chkcontroller");
    //   //2. 가져온 체크박스가 체크되어 있는지 확인을 한다.
    //   const chk = allchk.prop("checked");
    //   console.log(chk)
  
    //   //3.체크 되어있다면 아래 다섯개의 체크박스에 체크, 아니라면
    //   //아래 5개의 체크박스 체크 해제
    //   if(chk){
    //     allchk.siblings("input").prop("checked",true)
    //   }else{
    //     allchk.siblings("input").prop("checked",false)
    //   }
    // });
    $("#chkcontroller").siblings("input").on("click",function(){
      //1. 전체 체크박스를 가져온다.
const allchk = $("#chkcontroller").siblings("input")
      //2. 체크된 체크박스만 가져온다.
const checkedbox = $("#chkcontroller").siblings("input:checked")

      //3. 전체 체크박스의 개수와 체크된 체크박스의 개수를 비교해서
      //전체선택에 매핑되어있는 체크박스를 checked 로 만든다.
      if(checkedbox.length == allchk.length){
        $("#chkcontroller").prop("checked",true);
      }
      else{
        $("#chkcontroller").prop("checked",false);
      }
    })
  </script>
</html>
